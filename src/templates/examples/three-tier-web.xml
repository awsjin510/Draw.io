<mxfile host="app.diagrams.net" modified="" agent="" etag="" version="24.0.0" type="device">
  <diagram name="AWS Architecture" id="three-tier-web">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2800" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Region -->
        <mxCell id="region-1" value="ap-northeast-1" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_region;strokeColor=#00A4A6;fillColor=none;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=14;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="160" width="2200" height="1600" as="geometry"/>
        </mxCell>

        <!-- Users -->
        <mxCell id="users" value="Users" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#232F3E;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.users" vertex="1" parent="1">
          <mxGeometry x="1080" y="20" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- CloudFront -->
        <mxCell id="cloudfront-1" value="CloudFront&#xa;CDN" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#8C4FFF;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront" vertex="1" parent="1">
          <mxGeometry x="960" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- WAF -->
        <mxCell id="waf-1" value="AWS WAF" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#DD344C;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.waf" vertex="1" parent="1">
          <mxGeometry x="1200" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- S3 Static Assets -->
        <mxCell id="s3-static" value="S3&#xa;Static Assets" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#3F8624;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3" vertex="1" parent="1">
          <mxGeometry x="760" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- VPC -->
        <mxCell id="vpc-1" value="VPC (10.0.0.0/16)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#8C4FFF;fillColor=#F4EBFF;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=14;" vertex="1" parent="region-1">
          <mxGeometry x="60" y="100" width="2080" height="1400" as="geometry"/>
        </mxCell>

        <!-- Internet Gateway -->
        <mxCell id="igw-1" value="Internet&#xa;Gateway" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#8C4FFF;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.internet_gateway" vertex="1" parent="vpc-1">
          <mxGeometry x="980" y="20" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- AZ-1 -->
        <mxCell id="az-1" value="Availability Zone 1 (ap-northeast-1a)" style="fillColor=#EFF0F3;strokeColor=#545B64;dashed=1;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="vpc-1">
          <mxGeometry x="40" y="120" width="960" height="1240" as="geometry"/>
        </mxCell>

        <!-- AZ-2 -->
        <mxCell id="az-2" value="Availability Zone 2 (ap-northeast-1c)" style="fillColor=#EFF0F3;strokeColor=#545B64;dashed=1;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="vpc-1">
          <mxGeometry x="1060" y="120" width="960" height="1240" as="geometry"/>
        </mxCell>

        <!-- Public Subnet AZ1 -->
        <mxCell id="pub-subnet-1" value="Public Subnet (10.0.1.0/24)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_public_subnet;strokeColor=#7AA116;fillColor=#E6F2D8;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="az-1">
          <mxGeometry x="30" y="50" width="900" height="240" as="geometry"/>
        </mxCell>

        <!-- ALB in Public Subnet AZ1 -->
        <mxCell id="alb-1" value="Application&#xa;Load Balancer" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#8C4FFF;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.application_load_balancer" vertex="1" parent="pub-subnet-1">
          <mxGeometry x="200" y="80" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- NAT Gateway AZ1 -->
        <mxCell id="nat-1" value="NAT&#xa;Gateway" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#8C4FFF;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.nat_gateway" vertex="1" parent="pub-subnet-1">
          <mxGeometry x="600" y="80" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Private Subnet AZ1 -->
        <mxCell id="priv-subnet-1" value="Private Subnet (10.0.10.0/24)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_private_subnet;strokeColor=#147EBA;fillColor=#E6F5FC;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="az-1">
          <mxGeometry x="30" y="340" width="900" height="320" as="geometry"/>
        </mxCell>

        <!-- EC2 ASG AZ1 -->
        <mxCell id="ec2-asg-1" value="EC2 ASG&#xa;t3.medium" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#ED7515;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2" vertex="1" parent="priv-subnet-1">
          <mxGeometry x="200" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Isolated Subnet AZ1 -->
        <mxCell id="iso-subnet-1" value="Isolated Subnet (10.0.20.0/24)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_private_subnet;strokeColor=#E07000;fillColor=#FFF2E6;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="az-1">
          <mxGeometry x="30" y="710" width="900" height="480" as="geometry"/>
        </mxCell>

        <!-- RDS Primary AZ1 -->
        <mxCell id="rds-primary" value="RDS Primary&#xa;db.r5.large&#xa;MySQL" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#C925D1;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rds" vertex="1" parent="iso-subnet-1">
          <mxGeometry x="150" y="120" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- ElastiCache AZ1 -->
        <mxCell id="cache-1" value="ElastiCache&#xa;Redis&#xa;cache.r5.large" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#C925D1;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache" vertex="1" parent="iso-subnet-1">
          <mxGeometry x="500" y="120" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Public Subnet AZ2 -->
        <mxCell id="pub-subnet-2" value="Public Subnet (10.0.2.0/24)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_public_subnet;strokeColor=#7AA116;fillColor=#E6F2D8;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="az-2">
          <mxGeometry x="30" y="50" width="900" height="240" as="geometry"/>
        </mxCell>

        <!-- ALB in Public Subnet AZ2 -->
        <mxCell id="alb-2" value="Application&#xa;Load Balancer" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#8C4FFF;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.application_load_balancer" vertex="1" parent="pub-subnet-2">
          <mxGeometry x="200" y="80" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- NAT Gateway AZ2 -->
        <mxCell id="nat-2" value="NAT&#xa;Gateway" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#8C4FFF;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.nat_gateway" vertex="1" parent="pub-subnet-2">
          <mxGeometry x="600" y="80" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Private Subnet AZ2 -->
        <mxCell id="priv-subnet-2" value="Private Subnet (10.0.11.0/24)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_private_subnet;strokeColor=#147EBA;fillColor=#E6F5FC;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="az-2">
          <mxGeometry x="30" y="340" width="900" height="320" as="geometry"/>
        </mxCell>

        <!-- EC2 ASG AZ2 -->
        <mxCell id="ec2-asg-2" value="EC2 ASG&#xa;t3.medium" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#ED7515;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2" vertex="1" parent="priv-subnet-2">
          <mxGeometry x="200" y="100" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Isolated Subnet AZ2 -->
        <mxCell id="iso-subnet-2" value="Isolated Subnet (10.0.21.0/24)" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_private_subnet;strokeColor=#E07000;fillColor=#FFF2E6;verticalLabelPosition=top;verticalAlign=bottom;align=center;spacingTop=25;fontStyle=1;fontSize=12;" vertex="1" parent="az-2">
          <mxGeometry x="30" y="710" width="900" height="480" as="geometry"/>
        </mxCell>

        <!-- RDS Standby AZ2 -->
        <mxCell id="rds-standby" value="RDS Standby&#xa;db.r5.large&#xa;MySQL" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#C925D1;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rds" vertex="1" parent="iso-subnet-2">
          <mxGeometry x="150" y="120" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- ElastiCache AZ2 -->
        <mxCell id="cache-2" value="ElastiCache&#xa;Redis Replica" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#C925D1;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elasticache" vertex="1" parent="iso-subnet-2">
          <mxGeometry x="500" y="120" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- CloudWatch -->
        <mxCell id="cw-1" value="CloudWatch&#xa;Monitoring" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#E7157B;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch" vertex="1" parent="1">
          <mxGeometry x="2320" y="400" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- CloudTrail -->
        <mxCell id="ct-1" value="CloudTrail&#xa;Audit" style="outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#E7157B;labelBackgroundColor=#ffffff;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudtrail" vertex="1" parent="1">
          <mxGeometry x="2320" y="540" width="60" height="60" as="geometry"/>
        </mxCell>

        <!-- Connections -->
        <!-- Users → CloudFront -->
        <mxCell id="conn-1" value="HTTPS:443" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="users" target="cloudfront-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- CloudFront → S3 -->
        <mxCell id="conn-2" value="HTTPS:443" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="cloudfront-1" target="s3-static" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Users → WAF → ALB -->
        <mxCell id="conn-3" value="HTTPS:443" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="waf-1" target="igw-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- CloudFront → WAF -->
        <mxCell id="conn-3b" value="HTTPS:443" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="cloudfront-1" target="waf-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- IGW → ALB AZ1 -->
        <mxCell id="conn-4" value="HTTP:80" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="igw-1" target="alb-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- IGW → ALB AZ2 -->
        <mxCell id="conn-5" value="HTTP:80" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="igw-1" target="alb-2" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ALB AZ1 → EC2 AZ1 -->
        <mxCell id="conn-6" value="HTTP:8080" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="alb-1" target="ec2-asg-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ALB AZ2 → EC2 AZ2 -->
        <mxCell id="conn-7" value="HTTP:8080" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="alb-2" target="ec2-asg-2" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- EC2 AZ1 ↔ RDS Primary -->
        <mxCell id="conn-8" value="MySQL:3306" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="ec2-asg-1" target="rds-primary" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- EC2 AZ1 ↔ ElastiCache -->
        <mxCell id="conn-9" value="Redis:6379" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="ec2-asg-1" target="cache-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- EC2 AZ2 ↔ RDS Standby -->
        <mxCell id="conn-10" value="MySQL:3306" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="ec2-asg-2" target="rds-standby" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- EC2 AZ2 ↔ ElastiCache AZ2 -->
        <mxCell id="conn-11" value="Redis:6379" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#232F3E;" edge="1" source="ec2-asg-2" target="cache-2" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RDS Primary → RDS Standby (replication) -->
        <mxCell id="conn-12" value="Replication" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#666666;dashed=1;" edge="1" source="rds-primary" target="rds-standby" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Management: CloudWatch -->
        <mxCell id="conn-13" value="Metrics" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#666666;dashed=1;" edge="1" source="ec2-asg-1" target="cw-1" parent="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
